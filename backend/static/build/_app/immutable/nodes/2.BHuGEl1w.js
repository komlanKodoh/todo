import{w as K,Q as Te,s as H,l as z,i as P,n as L,f as C,R as se,e as R,a as D,c as O,b as w,S as j,g as M,p as m,h as b,T as $,U,t as re,d as ie,j as oe,k as B,o as Ce}from"../chunks/scheduler.ekfprvA7.js";import{a as F,S as W,i as J,b as Y,d as Z,m as ee,t as q,c as Se,e as te,g as xe}from"../chunks/index.A0EGgN38.js";import{r as _e}from"../chunks/index.DfT9X0cl.js";import{S as Re,h as Ie,n as Oe,u as le,i as ae,t as Ee,k as we,r as ue,b as ce,v as Qe,a as De,c as A,w as Me,l as de,x as he}from"../chunks/mutation.wKSc7OH8.js";function fe(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function ke(i,e){i.d(1),e.delete(i.key)}function Ue(i,e,t,s,o,n,r,l,u,y,f,c){let d=i.length,g=n.length,h=d;const T={};for(;h--;)T[i[h].key]=h;const I=[],_=new Map,v=new Map,p=[];for(h=g;h--;){const x=c(o,n,h),Q=t(x);let k=r.get(Q);k?s&&p.push(()=>k.p(x,e)):(k=y(Q,x),k.c()),_.set(Q,I[h]=k),Q in T&&v.set(Q,Math.abs(h-T[Q]))}const a=new Set,E=new Set;function S(x){F(x,1),x.m(l,f),r.set(x.key,x),f=x.first,g--}for(;d&&g;){const x=I[g-1],Q=i[d-1],k=x.key,N=Q.key;x===Q?(f=x.first,d--,g--):_.has(N)?!r.has(k)||a.has(k)?S(x):E.has(N)?d--:v.get(k)>v.get(N)?(E.add(k),S(x)):(a.add(N),d--):(u(Q,r),d--)}for(;d--;){const x=i[d];_.has(x.key)||u(x,r)}for(;g;)S(I[g-1]);return K(p),I}class $e extends Re{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=[],this.previousSelectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),pe(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Ne(this.currentQuery,this.options)}shouldFetchOnWindowFocus(){return Fe(this.currentQuery,this.options)}destroy(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)}setOptions(e,t){const s=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const n=this.hasListeners();n&&ve(this.currentQuery,o,this.options,s)&&this.executeFetch(),this.updateResult(t),n&&(this.currentQuery!==o||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();const r=this.computeRefetchInterval();n&&(this.currentQuery!==o||this.options.enabled!==s.enabled||r!==this.currentRefetchInterval)&&this.updateRefetchInterval(r)}updateOptions(e,t){const s=Object.assign(Object.assign({},this.options),e);e.queryKey&&!e.queryHash&&e.queryKey!==this.options.queryKey&&(s.queryHash=Ie(e.queryKey,s)),this.setOptions(s,t)}getOptimisticResult(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return this.createResult(s,t)}getCurrentResult(){return this.currentResult}trackResult(e,t){const s={},o=n=>{this.trackedProps.includes(n)||this.trackedProps.push(n)};return Object.keys(e).forEach(n=>{Object.defineProperty(s,n,{configurable:!1,enumerable:!0,get:()=>(o(n),e[n])})}),(t.useErrorBoundary||t.suspense)&&o("error"),s}getNextResult(e){return new Promise((t,s)=>{const o=this.subscribe(n=>{n.isFetching||(o(),n.isError&&(e!=null&&e.throwOnError)?s(n.error):t(n))})})}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(e){return this.fetch(Object.assign(Object.assign({},e),{meta:{refetchPage:e==null?void 0:e.refetchPage}}))}fetchOptimistic(e){const t=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.executeFetch(e).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Oe)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),le||this.currentResult.isStale||!ae(this.options.staleTime))return;const t=Ee(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!==null&&e!==void 0?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(le||this.options.enabled===!1||!ae(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||we.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearTimers(){this.clearStaleTimeout(),this.clearRefetchInterval()}clearStaleTimeout(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0}clearRefetchInterval(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0}createResult(e,t){var s;const o=this.currentQuery,n=this.options,r=this.currentResult,l=this.currentResultState,u=this.currentResultOptions,y=e!==o,f=y?e.state:this.currentQueryInitialState,c=y?this.currentResult:this.previousQueryResult,{state:d}=e;let{dataUpdatedAt:g,error:h,errorUpdatedAt:T,isFetching:I,status:_}=d,v=!1,p=!1,a;if(t.optimisticResults){const S=this.hasListeners(),x=!S&&pe(e,t),Q=S&&ve(e,o,t,n);(x||Q)&&(I=!0,g||(_="loading"))}if(t.keepPreviousData&&!d.dataUpdateCount&&(c!=null&&c.isSuccess)&&_!=="error")a=c.data,g=c.dataUpdatedAt,_=c.status,v=!0;else if(t.select&&typeof d.data<"u")if(r&&d.data===(l==null?void 0:l.data)&&t.select===((s=this.previousSelect)===null||s===void 0?void 0:s.fn)&&!this.previousSelectError)a=this.previousSelect.result;else try{a=t.select(d.data),t.structuralSharing!==!1&&(a=ue(r==null?void 0:r.data,a)),this.previousSelect={fn:t.select,result:a},this.previousSelectError=null}catch(S){ce().error(S),h=S,this.previousSelectError=S,T=Date.now(),_="error"}else a=d.data;if(typeof t.placeholderData<"u"&&typeof a>"u"&&(_==="loading"||_==="idle")){let S;if(r!=null&&r.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))S=r.data;else if(S=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof S<"u")try{S=t.select(S),t.structuralSharing!==!1&&(S=ue(r==null?void 0:r.data,S)),this.previousSelectError=null}catch(x){ce().error(x),h=x,this.previousSelectError=x,T=Date.now(),_="error"}typeof S<"u"&&(_="success",a=S,p=!0)}return{status:_,isLoading:_==="loading",isSuccess:_==="success",isError:_==="error",isIdle:_==="idle",data:a,dataUpdatedAt:g,error:h,errorUpdatedAt:T,failureCount:d.fetchFailureCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>f.dataUpdateCount||d.errorUpdateCount>f.errorUpdateCount,isFetching:I,isRefetching:I&&_!=="loading",isLoadingError:_==="error"&&d.dataUpdatedAt===0,isPlaceholderData:p,isPreviousData:v,isRefetchError:_==="error"&&d.dataUpdatedAt!==0,isStale:V(e,t),refetch:this.refetch,remove:this.remove}}shouldNotifyListeners(e,t){if(!t)return!0;const{notifyOnChangeProps:s,notifyOnChangePropsExclusions:o}=this.options;if(!s&&!o||s==="tracked"&&!this.trackedProps.length)return!0;const n=s==="tracked"?this.trackedProps:s;return Object.keys(e).some(r=>{const l=r,u=e[l]!==t[l],y=n==null?void 0:n.some(c=>c===r),f=o==null?void 0:o.some(c=>c===r);return u&&!f&&(!n||y)})}updateResult(e){const t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Qe(this.currentResult,t))return;const s={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,t)&&(s.listeners=!0),this.notify(Object.assign(Object.assign({},s),e))}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!0:e.type==="error"&&!De(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){A.batch(()=>{var t,s,o,n,r,l,u,y;e.onSuccess?((s=(t=this.options).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data),(n=(o=this.options).onSettled)===null||n===void 0||n.call(o,this.currentResult.data,null)):e.onError&&((l=(r=this.options).onError)===null||l===void 0||l.call(r,this.currentResult.error),(y=(u=this.options).onSettled)===null||y===void 0||y.call(u,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(f=>{f(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function je(i,e){return e.enabled!==!1&&!i.state.dataUpdatedAt&&!(i.state.status==="error"&&e.retryOnMount===!1)}function Pe(i,e){return e.enabled!==!1&&i.state.dataUpdatedAt>0&&(e.refetchOnMount==="always"||e.refetchOnMount!==!1&&V(i,e))}function pe(i,e){return je(i,e)||Pe(i,e)}function Ne(i,e){return e.enabled!==!1&&(e.refetchOnReconnect==="always"||e.refetchOnReconnect!==!1&&V(i,e))}function Fe(i,e){return e.enabled!==!1&&(e.refetchOnWindowFocus==="always"||e.refetchOnWindowFocus!==!1&&V(i,e))}function ve(i,e,t,s){return t.enabled!==!1&&(i!==e||s.enabled===!1)&&(!t.suspense||i.state.status!=="error")&&V(i,t)}function V(i,e){return i.isStaleByTime(e.staleTime)}class Ae extends Re{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){this.options=this.client.defaultMutationOptions(e)}onUnsubscribe(){var e;this.listeners.length||(e=this.currentMutation)===null||e===void 0||e.removeObserver(this)}onMutationUpdate(e){this.updateResult();const t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object.assign(Object.assign({},this.options),{variables:typeof e<"u"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Me(),t=Object.assign(Object.assign({},e),{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=t}notify(e){A.batch(()=>{var t,s,o,n,r,l,u,y;this.mutateOptions&&(e.onSuccess?((s=(t=this.mutateOptions).onSuccess)===null||s===void 0||s.call(t,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(n=(o=this.mutateOptions).onSettled)===null||n===void 0||n.call(o,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&((l=(r=this.mutateOptions).onError)===null||l===void 0||l.call(r,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(y=(u=this.mutateOptions).onSettled)===null||y===void 0||y.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))),e.listeners&&this.listeners.forEach(f=>{f(this.currentResult)})})}}function ne(){const i=Te("queryClient");if(!i)throw new Error("No QueryClient set, use QueryClientProvider to set one");return i}function me(i){return i.optimisticResults=!0,i.onError&&(i.onError=A.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=A.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=A.batchCalls(i.onSettled)),i}function Le(i,e,t){const s=de(i,e,t),o=ne();let n=o.defaultQueryObserverOptions(s);n=me(n);const r=new $e(o,n),{subscribe:l}=_e(r.getCurrentResult(),c=>r.subscribe(A.batchCalls(c)));r.updateResult();function u(c,d,g){const h=de(c,d,g);let T=o.defaultQueryObserverOptions(h);T=me(T),r.hasListeners()&&r.setOptions(T,{listeners:!1})}function y(c){r.updateOptions(c)}function f(c){y({enabled:c})}return{subscribe:l,setOptions:u,updateOptions:y,setEnabled:f}}function G(i,e,t){const s=he(i,e,t),o=ne(),n=new Ae(o,s),r=(c,d)=>{n.mutate(c,d).catch(Oe)},l=n.getCurrentResult(),u=Object.assign(Object.assign({},l),{mutate:r,mutateAsync:l.mutate}),{subscribe:y}=_e(u,c=>n.subscribe(A.batchCalls(d=>{n.hasListeners()&&c(Object.assign(Object.assign({},d),{mutate:r,mutateAsync:d.mutate}))})));function f(c,d,g){if(n.hasListeners()){const h=he(c,d,g);n.setOptions(h)}}return{subscribe:y,setOptions:f}}function ze(i){let e,t,s="Create New Todo",o,n,r,l,u,y,f,c,d="Cancel",g,h,T="Create",I,_;return{c(){e=R("div"),t=R("h1"),t.textContent=s,o=D(),n=R("form"),r=R("input"),l=D(),u=R("textarea"),y=D(),f=R("div"),c=R("button"),c.textContent=d,g=D(),h=R("button"),h.textContent=T,this.h()},l(v){e=O(v,"DIV",{class:!0});var p=w(e);t=O(p,"H1",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-15tf5le"&&(t.textContent=s),o=M(p),n=O(p,"FORM",{class:!0});var a=w(n);r=O(a,"INPUT",{class:!0,type:!0,name:!0}),l=M(a),u=O(a,"TEXTAREA",{class:!0,id:!0,name:!0}),w(u).forEach(C),y=M(a),f=O(a,"DIV",{class:!0});var E=w(f);c=O(E,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(c)!=="svelte-fnm5xj"&&(c.textContent=d),g=M(E),h=O(E,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(h)!=="svelte-81j15w"&&(h.textContent=T),E.forEach(C),a.forEach(C),p.forEach(C),this.h()},h(){m(t,"class","font-semibold"),m(r,"class","list-none px-2 py-2 my-2 w-full bg-zinc-700 focus:bg-zinc-500 rounded-md outline-none outline-gre"),m(r,"type","text"),m(r,"name","title"),m(u,"class","list-none px-2 py-2 my-2 h-full max-h-96 w-full bg-zinc-700 focus:bg-zinc-500 rounded-md outline-none outline-gre"),m(u,"id","description"),m(u,"name","description"),m(c,"class","px-2 py-1 bg-red-500 rounded-[4px]"),m(c,"type","submit"),m(h,"class","px-2 py-1 bg-green-500 rounded-[4px]"),m(h,"type","submit"),m(f,"class","flex justify-end gap-2"),m(n,"class","flex flex-col min-h-0 h-full"),m(e,"class","h-full flex flex-col min-h-0")},m(v,p){P(v,e,p),b(e,t),b(e,o),b(e,n),b(n,r),$(r,i[0].Title),b(n,l),b(n,u),$(u,i[0].Description),b(n,y),b(n,f),b(f,c),b(f,g),b(f,h),I||(_=[U(r,"input",i[6]),U(u,"input",i[7]),U(h,"click",i[1])],I=!0)},p(v,p){p&1&&r.value!==v[0].Title&&$(r,v[0].Title),p&1&&$(u,v[0].Description)},d(v){v&&C(e),I=!1,K(_)}}}function qe(i){let e,t,s="UpdateTodo New Todo",o,n,r,l,u,y,f,c,d="Delete",g,h,T="Update",I,_;return{c(){e=R("div"),t=R("h1"),t.textContent=s,o=D(),n=R("form"),r=R("input"),l=D(),u=R("textarea"),y=D(),f=R("div"),c=R("button"),c.textContent=d,g=D(),h=R("button"),h.textContent=T,this.h()},l(v){e=O(v,"DIV",{class:!0});var p=w(e);t=O(p,"H1",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-vfbbhz"&&(t.textContent=s),o=M(p),n=O(p,"FORM",{class:!0});var a=w(n);r=O(a,"INPUT",{class:!0,type:!0,name:!0}),l=M(a),u=O(a,"TEXTAREA",{class:!0,id:!0,name:!0}),w(u).forEach(C),y=M(a),f=O(a,"DIV",{class:!0});var E=w(f);c=O(E,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(c)!=="svelte-b167lw"&&(c.textContent=d),g=M(E),h=O(E,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(h)!=="svelte-hlksic"&&(h.textContent=T),E.forEach(C),a.forEach(C),p.forEach(C),this.h()},h(){m(t,"class","font-semibold"),m(r,"class","list-none px-2 py-2 my-2 w-full bg-zinc-700 focus:bg-zinc-500 rounded-md outline-none outline-gre"),m(r,"type","text"),m(r,"name","title"),m(u,"class","list-none px-2 py-2 my-2 h-full max-h-96 w-full bg-zinc-700 focus:bg-zinc-500 rounded-md outline-none outline-gre"),m(u,"id","description"),m(u,"name","description"),m(c,"class","px-2 py-1 bg-red-500 rounded-[4px]"),m(c,"type","submit"),m(h,"class","px-2 py-1 bg-green-500 rounded-[4px]"),m(h,"type","submit"),m(f,"class","flex justify-end gap-2"),m(n,"class","flex flex-col min-h-0 h-full"),m(e,"class","h-full flex flex-col min-h-0")},m(v,p){P(v,e,p),b(e,t),b(e,o),b(e,n),b(n,r),$(r,i[0].Title),b(n,l),b(n,u),$(u,i[0].Description),b(n,y),b(n,f),b(f,c),b(f,g),b(f,h),I||(_=[U(r,"input",i[4]),U(u,"input",i[5]),U(c,"click",i[2]),U(h,"click",i[3])],I=!0)},p(v,p){p&1&&r.value!==v[0].Title&&$(r,v[0].Title),p&1&&$(u,v[0].Description)},d(v){v&&C(e),I=!1,K(_)}}}function Ve(i){let e;function t(n,r){return n[0].Id!==0?qe:ze}let s=t(i),o=s(i);return{c(){o.c(),e=z()},l(n){o.l(n),e=z()},m(n,r){o.m(n,r),P(n,e,r)},p(n,[r]){s===(s=t(n))&&o?o.p(n,r):(o.d(1),o=s(n),o&&(o.c(),o.m(e.parentNode,e)))},i:L,o:L,d(n){n&&C(e),o.d(n)}}}function Be(i,e,t){let{todo:s={Id:0,Title:"",CompletedAt:void 0}}=e;const o=se();function n(d){d.preventDefault(),o("create-todo",{Title:s.Title??"",Description:s.Description??""})}function r(d){d.preventDefault(),s.Id!==void 0&&o("delete-todo",{Id:s.Id})}function l(d){d.preventDefault(),!(s.Id===void 0||s.Title===void 0||s.Description===void 0)&&o("update-todo",{Id:s.Id,Title:s.Title??"",Description:s.Description??""})}function u(){s.Title=this.value,t(0,s)}function y(){s.Description=this.value,t(0,s)}function f(){s.Title=this.value,t(0,s)}function c(){s.Description=this.value,t(0,s)}return i.$$set=d=>{"todo"in d&&t(0,s=d.todo)},[s,n,r,l,u,y,f,c]}class Ke extends W{constructor(e){super(),J(this,e,Be,Ve,H,{todo:0})}}function He(i){let e,t,s,o;return{c(){e=R("form"),t=R("input"),this.h()},l(n){e=O(n,"FORM",{class:!0});var r=w(e);t=O(r,"INPUT",{class:!0,type:!0}),r.forEach(C),this.h()},h(){m(t,"class","flex-1 focus:bg-zinc-500 px-2 outline-green-600 w-full h-full bg-zinc-700 border border-zinc-500 rounded-[5px]"),m(t,"type","text	"),m(e,"class","w-full block h-10")},m(n,r){P(n,e,r),b(e,t),$(t,i[0]),s||(o=[U(t,"input",i[2]),U(e,"submit",i[1])],s=!0)},p(n,[r]){r&1&&$(t,n[0])},i:L,o:L,d(n){n&&C(e),s=!1,K(o)}}}function We(i,e,t){let s="";const o=se();function n(){o("search",s)}function r(){s=this.value,t(0,s)}return[s,n,r]}class Je extends W{constructor(e){super(),J(this,e,We,He,H,{})}}function be(i,e,t){const s=i.slice();return s[4]=e[t],s}function Xe(i){let e=[],t=new Map,s,o=fe(i[0]);const n=r=>r[4].Id;for(let r=0;r<o.length;r+=1){let l=be(i,o,r),u=n(l);t.set(u,e[r]=ye(u,l))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();s=z()},l(r){for(let l=0;l<e.length;l+=1)e[l].l(r);s=z()},m(r,l){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(r,l);P(r,s,l)},p(r,l){l&3&&(o=fe(r[0]),e=Ue(e,l,n,1,r,o,t,s.parentNode,ke,ye,s,be))},d(r){r&&C(s);for(let l=0;l<e.length;l+=1)e[l].d(r)}}}function Ge(i){let e,t="No todos found";return{c(){e=R("p"),e.textContent=t},l(s){e=O(s,"P",{"data-svelte-h":!0}),j(e)!=="svelte-17dbb5i"&&(e.textContent=t)},m(s,o){P(s,e,o)},p:L,d(s){s&&C(e)}}}function ye(i,e){let t,s,o="",n,r,l=e[4].Title+"",u,y,f,c,d,g=e[4].Description+"",h,T,I,_;function v(){return e[2](e[4])}return{key:i,first:null,c(){t=R("li"),s=R("button"),s.innerHTML=o,n=D(),r=R("span"),u=re(l),y=D(),f=R("div"),c=D(),d=R("span"),h=re(g),T=D(),this.h()},l(p){t=O(p,"LI",{class:!0});var a=w(t);s=O(a,"BUTTON",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-nk5b7c"&&(s.innerHTML=o),n=M(a),r=O(a,"SPAN",{class:!0});var E=w(r);u=ie(E,l),E.forEach(C),y=M(a),f=O(a,"DIV",{class:!0}),w(f).forEach(C),c=M(a),d=O(a,"SPAN",{class:!0});var S=w(d);h=ie(S,g),S.forEach(C),T=M(a),a.forEach(C),this.h()},h(){m(s,"class","absolute w-full h-full top-0 left-0 bottom-0 right-0"),m(r,"class","block font-semibold"),m(f,"class","separator bg-zinc-500"),m(d,"class","block text-sm"),m(t,"class","list-none relative px-4 py-2 my-2 bg-zinc-700 rounded-md"),this.first=t},m(p,a){P(p,t,a),b(t,s),b(t,n),b(t,r),b(r,u),b(t,y),b(t,f),b(t,c),b(t,d),b(d,h),b(t,T),I||(_=U(s,"click",v),I=!0)},p(p,a){e=p,a&1&&l!==(l=e[4].Title+"")&&oe(u,l),a&1&&g!==(g=e[4].Description+"")&&oe(h,g)},d(p){p&&C(t),I=!1,_()}}}function Ye(i){let e;function t(n,r){return n[0].length===0?Ge:Xe}let s=t(i),o=s(i);return{c(){o.c(),e=z()},l(n){o.l(n),e=z()},m(n,r){o.m(n,r),P(n,e,r)},p(n,[r]){s===(s=t(n))&&o?o.p(n,r):(o.d(1),o=s(n),o&&(o.c(),o.m(e.parentNode,e)))},i:L,o:L,d(n){n&&C(e),o.d(n)}}}function Ze(i,e,t){let{todos:s}=e;const o=se();function n(l){o("todo-selected",{Id:l.Id})}const r=l=>n(l);return i.$$set=l=>{"todos"in l&&t(0,s=l.todos)},[s,n,r]}class et extends W{constructor(e){super(),J(this,e,Ze,Ye,H,{todos:0})}}class X{static api(e){return`http://localhost:5000${e}`}}function tt(i){return async e=>i(...e.queryKey)}async function st(i){return(await(await fetch(X.api("/api/todo"),{method:"POST",body:JSON.stringify(i)})).json()).Content}async function nt(i){return(await(await fetch(X.api(`/api/todo/${i}`),{method:"DELETE"})).json()).Content}async function rt(i,e){return(await(await fetch(X.api("/api/todo/filter"),{method:"POST",body:JSON.stringify(e)})).json()).Content}async function it(i){return(await(await fetch(X.api(`/api/todo/${i.Id}`),{method:"PATCH",body:JSON.stringify(i)})).json()).Content}function ge(i){let e,t;return e=new et({props:{todos:i[1].data}}),e.$on("todo-selected",i[7]),{c(){Y(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,o){ee(e,s,o),t=!0},p(s,o){const n={};o&2&&(n.todos=s[1].data),e.$set(n)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){te(e,s)}}}function ot(i){let e,t,s,o,n,r,l,u="Create New",y,f,c,d,g,h,T,I,_;n=new Je({}),n.$on("search",i[6]);let v=i[1].data&&ge(i);return h=new Ke({props:{todo:i[0]}}),h.$on("create-todo",i[12]),h.$on("delete-todo",i[13]),h.$on("update-todo",i[14]),{c(){e=R("div"),t=R("div"),s=R("div"),o=R("div"),Y(n.$$.fragment),r=D(),l=R("button"),l.textContent=u,y=D(),f=R("div"),c=R("div"),v&&v.c(),d=D(),g=R("div"),Y(h.$$.fragment),this.h()},l(p){e=O(p,"DIV",{class:!0});var a=w(e);t=O(a,"DIV",{class:!0});var E=w(t);s=O(E,"DIV",{class:!0});var S=w(s);o=O(S,"DIV",{class:!0});var x=w(o);Z(n.$$.fragment,x),x.forEach(C),r=M(S),l=O(S,"BUTTON",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-zrupcu"&&(l.textContent=u),S.forEach(C),y=M(E),f=O(E,"DIV",{class:!0});var Q=w(f);c=O(Q,"DIV",{class:!0});var k=w(c);v&&v.l(k),k.forEach(C),d=M(Q),g=O(Q,"DIV",{class:!0});var N=w(g);Z(h.$$.fragment,N),N.forEach(C),Q.forEach(C),E.forEach(C),a.forEach(C),this.h()},h(){m(o,"class","flex-1"),m(l,"class","h-full px-4 bg-green-500 text-base rounded-[4px]"),m(s,"class","flex gap-2"),m(c,"class","flex-[0.5] overflow-y-scroll scroll-bar"),m(g,"class","flex-[0.5] py-2"),m(f,"class","flex mt-8 gap-5 flex-1 min-h-0"),m(t,"class","max-w-4xl w-full h-full flex flex-col"),m(e,"class","flex pt-5 justify-center w-full h-full bg-zinc-800 text-zinc-200 font-sans px-5")},m(p,a){P(p,e,a),b(e,t),b(t,s),b(s,o),ee(n,o,null),b(s,r),b(s,l),b(t,y),b(t,f),b(f,c),v&&v.m(c,null),b(f,d),b(f,g),ee(h,g,null),T=!0,I||(_=U(l,"click",i[11]),I=!0)},p(p,[a]){p[1].data?v?(v.p(p,a),a&2&&F(v,1)):(v=ge(p),v.c(),F(v,1),v.m(c,null)):v&&(xe(),q(v,1,1,()=>{v=null}),Se());const E={};a&1&&(E.todo=p[0]),h.$set(E)},i(p){T||(F(n.$$.fragment,p),F(v),F(h.$$.fragment,p),T=!0)},o(p){q(n.$$.fragment,p),q(v),q(h.$$.fragment,p),T=!1},d(p){p&&C(e),te(n),v&&v.d(),te(h),I=!1,_()}}}function lt(i,e,t){let s,o,n,r,l;const u=ne(),y={},f=Le(["get-todos",y],tt(rt));B(i,f,a=>t(1,s=a));const c=a=>{y.Title=a.detail,u.invalidateQueries("get-todos")},d=a=>{s.data&&t(0,l=s.data.find(E=>E.Id===a.detail.Id))},g=G(st,{onSuccess:()=>{u.invalidateQueries("get-todos")}});B(i,g,a=>t(2,o=a));const h=G(it,{onSuccess:()=>{u.invalidateQueries("get-todos")}});B(i,h,a=>t(4,r=a));const T=G(nt,{onSuccess:()=>{u.invalidateQueries("get-todos")}});B(i,T,a=>t(3,n=a)),Ce(async()=>{});const I=async()=>{t(0,l={Id:0,Title:"",Description:"",CompletedAt:void 0})},_=a=>{o.mutate(a.detail)},v=a=>{n.mutate(a.detail.Id)},p=a=>{r.mutate(a.detail)};return i.$$.update=()=>{i.$$.dirty&1&&console.log("parend",l)},[l,s,o,n,r,f,c,d,g,h,T,I,_,v,p]}class ht extends W{constructor(e){super(),J(this,e,lt,ot,H,{})}}export{ht as component};
